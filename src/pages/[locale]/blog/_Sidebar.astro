---
import { getCollection } from 'astro:content'
import { Sidebar as SidebarComponent } from '@components/Sidebar'

interface Props {
  locale: string
}

const { locale } = Astro.props

const entries = await getCollection('blog').then((collection) =>
  collection.map(({ slug, data: { title } }) => ({
    href: `/${locale}/blog/${slug.split('/').slice(1).join('/')}`,
    label: title,
  })),
)
---

<SidebarComponent entries={entries} />
