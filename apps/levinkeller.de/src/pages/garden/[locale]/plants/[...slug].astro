---
import Layout from '@/layouts/Page.astro'
import { Plant } from '@/components/Plant'
import { getCollection } from 'astro:content'
// 1. Generate a new path for every collection entry
export async function getStaticPaths() {
  const plants = await getCollection('plants')
  return plants.map((entry) => ({
    params: { slug: entry.id, locale: entry.id.split('/')[0] },
    props: { entry },
  }))
}
// 2. For your template, you can get the entry directly from the prop
const { entry: plant } = Astro.props
---

<Layout>
  <div class="max-w-3xl">
    <Plant client:load plant={plant} />
  </div>
</Layout>
