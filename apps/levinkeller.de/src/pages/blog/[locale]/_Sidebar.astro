---
import { getCollection } from 'astro:content'
import { Sidebar as SidebarComponent } from '@/components/LocalNavigation'

const locale = Astro.currentLocale

const entry = await getCollection('blog').then((collection) =>
  collection.reduce(
    (acc, { slug, data: { title } }, key) => ({
      ...acc,
      [key]: {
        href: `/blog/${slug}`,
        label: title,
      },
    }),
    {},
  ),
)
---

<SidebarComponent entry={entry} />
